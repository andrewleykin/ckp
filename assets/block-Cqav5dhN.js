import{d as _,g as u,c as f,h as v,u as a,F as b,b as s,w as l,a as k,i as y,o as c,f as n,j as g}from"./index-YL4AAcl0.js";import{P as U,A as V}from"./index-pxBI3MdA.js";import{U as x,a as h,_ as B}from"./ui-input-phone-oXEF9li1.js";import"./ui-icon-BRi8thUF.js";import{U as N}from"./ui-success-B8uUqBvB.js";import{U as w,_ as E}from"./ui-typography-Df9E3_dG.js";const H={class:"group mb-32"},C=_({__name:"block",setup(I){const{notify:m}=g(),e=u({number:"",inn:""}),t=u(!1),d=u(!1),p=async()=>{if(!t.value){if(e.value.number.length!==U||!e.value.inn){m({title:"Некорректные данные",type:"warn"});return}t.value=!0;try{await y.simcard.block(e.value),d.value=!0}catch(r){r instanceof V&&m({title:"Произошла ошибка",text:r.message,type:"error"})}finally{t.value=!1}}};return(r,o)=>(c(),f("main",null,[d.value?(c(),v(a(N),{key:0,title:"Номер заблокирован"})):(c(),f(b,{key:1},[s(a(w),{variant:"HeadlineH3",class:"mb-24"},{default:l(()=>[n(" Блокировка выданного номера ")]),_:1}),k("div",H,[s(a(x),{modelValue:e.value.number,"onUpdate:modelValue":o[0]||(o[0]=i=>e.value.number=i)},{default:l(()=>[n("Номер телефона")]),_:1},8,["modelValue"]),s(a(h),{modelValue:e.value.inn,"onUpdate:modelValue":o[1]||(o[1]=i=>e.value.inn=i)},{default:l(()=>[n("ИНН клиента")]),_:1},8,["modelValue"])]),s(a(B),{"is-loading":t.value,onClick:p},{default:l(()=>[n(" Подтвердить ")]),_:1},8,["is-loading"])],64))]))}}),j=E(C,[["__scopeId","data-v-382187fd"]]);export{j as default};
